id = "magicConstantInClosure";
title = "__FUNCTION__ In Closure Changed";
description = "When using the magic constant ``__FUNCTION__`` inside a closure, the content used to be the ``{closure}`` string only. Since PHP 8.4, it also includes the name of the original file, and the line number, so as to identify the origin source code.";
code = "<?php

$foo = fn() => __FUNCTION__;

$closure = function() { return __FUNCTION__;};

echo $foo();

echo $closure();


?>";
before = "{closure}{closure}";
after = "{closure:/codes/magicConstantInClosure.php:3}{closure:/codes/magicConstantInClosure.php:5}";
seeAlso[] = "";
deprecation = "";
phpVersion = "8.4";
alternatives[] = "Use a regex to extract the ``closure`` part in the string.";
alternatives[] = "Use the ``Closure`` class to get the actual closure, instead of its name.";
related[] = "";
features[] = "closure";
features[] = "__function__";
features[] = "closure-class";
keyword[] = "";
phpError[] = "";